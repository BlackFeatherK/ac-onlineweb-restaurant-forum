<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1><%= @restaurant.name %></h1>
    </div>

    <div class="col-md-4">
      <%= image_tag @restaurant.image, class: "img-responsive center-block" %>
      <br>
      <div class="well">
        <ul class="list-unstyled">
          <li><strong>Opening Hour:</strong> <%= @restaurant.opening_hours %></li>
          <li><strong>Tel:</strong> <%= @restaurant.tel %></li>
          <li><strong>Address:</strong> <%= @restaurant.address %></li>
        </ul>
      </div>
      <div class="text-center">
        <%= render :partial => 'restaurants/favorites', :locals => { :restaurant => @restaurant } %>
      </div>
    </div>
    <div class="col-md-8">
      <%= simple_format @restaurant.description %>
    </div>

    <div class="clearfix"></div>

    <hr>

  </div>
</div>


<div class="container">
  <div class="row">

    <div class="col-md-8 col-md-offset-2">
      <h3>Restaurant Reviews</h3>

      <% @restaurant.comments.each do |comment| %>

        <div class="media">
          <div class="media-left">
            <%= link_to user_path(comment.user) do %>
              <%= image_tag(comment.user.file_location, height: 64, width: 64, class: "media-object") %>
            <% end %>
          </div>
          <div class="media-body">
            <h4 class="media-heading"><%= comment.user.email %></h4>
            <p><%= simple_format comment.comment %></p>
            <p class="text-muted">
              <em><%= time_ago_in_words(comment.created_at) %> ago</em> -

              <% if comment.user.email == current_user.email %>
                <%= link_to 'Edit', edit_restaurant_comment_path( @restaurant, comment.id ) %>
                <%= link_to 'Destroy', restaurant_comment_path( @restaurant, comment.id ),
                                        method: :delete,
                                        data: { confirm: "Are you sure?" } %>
              <% end %>
            </p>
          </div>
        </div>

      <% end %>

      <!-- 這邊要講erb的form搭配bootstrap，就是加form-group在外面和,class: "form-control" -->
      <%= form_for([@restaurant, @restaurant.comments.build]) do |f| %>
        <div class="form-group">
          <%= f.text_area :comment, placeholder: "留個言吧", class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.submit "送出", class: "btn btn-primary" %>
        </div>
      <% end %>

    </div>
  </div>
</div>
